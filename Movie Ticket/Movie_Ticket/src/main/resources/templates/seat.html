<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Movie Ticket Booking</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="/seats.css">
</head>
<body>
<!--<h1>Movies List</h1>-->
<!--<span th:text="${message}"/>-->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="#" th:text="${userName}"></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/">Logout</a>
      </li>
    </ul>
  </div>
</nav>
<div class="container">

  <div class="row mt-4 p-2">
    <div class="screen-side">
      <div class="screen">Screen</div>
      <p class="select-text">Please select a seat!!</p>
    </div>
  </div>
  <div class="row mt-4"><span th:text="${message}"/></div>
  <div class="row mt-4"></div>
 <div class ="card">
  <div class="row mt-4 p-2">
    <table class="table">

      <tbody>
      <tr class="row">
        <td class="col">Platinum</td>
        <td class="col-10">
          <div class="row">
            <div class="col">
              <input type="checkbox" id="1P" name="seat"/>
              <label for="1P">1P</label>
            </div>
            <div class="col">
              <input type="checkbox" id="2P" name="seat"/>
              <label for="2P">2P</label>
            </div>
            <div class="col">
              <input type="checkbox" id="3P" name="seat"/>
              <label for="3P">3P</label>
            </div>
            <div class="col">
              <input type="checkbox" id="4P" name="seat"/>
              <label for="4P">4P</label>
            </div>
            <div class="col">
              <input type="checkbox" id="5P" name="seat"/>
              <label for="5P">5P</label>
            </div>
            <div class="col">
              <input type="checkbox" id="6P" name="seat"/>
              <label for="6P">6P</label>
            </div>
          </div>
        </td>
      </tr>
      <tr class="row">
        <td class="col">Silver</td>
        <td class="col-10">
          <div class="row">
            <div class="col">
              <input type="checkbox" id="1S" name="seat"/>
              <label for="1S">1S</label>
            </div>
            <div class="col">
              <input type="checkbox" id="2S" name="seat"/>
              <label for="2S">2S</label>
            </div>
            <div class="col">
              <input type="checkbox" id="3S" name="seat"/>
              <label for="3S">3S</label>
            </div>
            <div class="col">
              <input type="checkbox" id="4S" name="seat"/>
              <label for="4S">4S</label>
            </div>
            <div class="col">
              <input type="checkbox" id="5S" name="seat"/>
              <label for="5S">5S</label>
            </div>
            <div class="col">
              <input type="checkbox" id="6S" name="seat"/>
              <label for="6S">6S</label>
            </div>
          </div>
        </td>
      </tr>
      <tr class="row">
        <td class="col">Gold</td>
        <td class="col-10">
          <div class="row">
            <div class="col">
              <input type="checkbox" id="1G" name="seat"/>
              <label for="1G">1G</label>
            </div>
            <div class="col">
              <input type="checkbox" id="2G" name="seat"/>
              <label for="2G">2G</label>
            </div>
            <div class="col">
              <input type="checkbox" id="3G" name="seat"/>
              <label for="3G">3G</label>
            </div>
            <div class="col">
              <input type="checkbox" id="4G" name="seat"/>
              <label for="4G">4G</label>
            </div>
            <div class="col">
              <input type="checkbox" id="5G" name="seat"/>
              <label for="5G">5G</label>
            </div>
            <div class="col">
              <input type="checkbox" id="6G" name="seat"/>
              <label for="6G">6G</label>
            </div>
          </div>
        </td>
      </tr>
      </tbody>

    </table>
    <button id="bookSeat">Pay <span id="amount"></span></button>
  </div>
   <
  <form th:action="@{/booked/{id} (id=${shows})}" method="post" style="display:none">
    <input type="text" id="bookedSeats" name="bookedSeats"/>
    <button type="submit" id="formSubmitButton">Book</button>
  </form>
</div>

<script>
function bookSeats() {
    let inputs = document.querySelectorAll("input[type=checkbox]")

    for(let i =0; i< inputs.length; i++){
        if(inputs[i].checked){
            document.getElementById("bookedSeats").value += inputs[i].id + ","
        }
    }
    document.getElementById("formSubmitButton").click()
}
function price() {
    let inputs = document.querySelectorAll("input[type=checkbox]")
    let price = 100
    let count = 0
    for(let i =0; i< inputs.length; i++){
        if(inputs[i].  checked){
            count++
<!--          -->
        }
    }
   document.getElementById("amount").innerHTML = price*count
}

document.querySelectorAll("input[type=checkbox]").forEach(function(input)
{ input.addEventListener("click", price) }
)

document.getElementById("bookSeat").addEventListener("click",bookSeats)
</script>
</div>
</body>

</html>





